<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62K6JPR1V6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-62K6JPR1V6');
</script>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen Master Protocol Stack | com_nrl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">CANopen Master Documentation</div>
   <div id="projectnumber">Version 6.08.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('com__nrl_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">com_nrl.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module covers the functionality of the specification CiA 302-6 and CiA 1302-6. </p>
</div><div class="textblock"><code>#include &quot;<a class="el" href="com__defs_8h.html">com_defs.h</a>&quot;</code><br />
<code>#include &quot;cp_nrl.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for com_nrl.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="com__nrl_8h__incl.png" border="0" usemap="#acom__nrl_8h" alt=""/></div>
<map name="acom__nrl_8h" id="acom__nrl_8h">
<area shape="rect" title="CANopen Master Stack &#45; Network Redundancy Layer ." alt="" coords="177,5,255,31"/>
<area shape="rect" href="com__defs_8h.html" title="CANopen Master definitions ." alt="" coords="120,79,210,105"/>
<area shape="poly" title=" " alt="" coords="209,33,184,68,180,65,205,30"/>
<area shape="rect" title=" " alt="" coords="234,79,301,105"/>
<area shape="poly" title=" " alt="" coords="226,30,252,65,248,68,222,33"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions ." alt="" coords="14,153,92,178"/>
<area shape="poly" title=" " alt="" coords="147,107,86,146,83,142,145,103"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="101,226,179,252"/>
<area shape="poly" title=" " alt="" coords="166,105,147,211,142,210,160,105"/>
<area shape="rect" href="canopen_8h.html" title=" " alt="" coords="203,226,284,252"/>
<area shape="poly" title=" " alt="" coords="174,104,232,211,228,214,169,106"/>
<area shape="rect" href="com__conf_8h.html" title="CANopen Master stack configuration ." alt="" coords="228,153,318,178"/>
<area shape="poly" title=" " alt="" coords="185,103,243,141,240,146,182,107"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions ." alt="" coords="5,226,77,252"/>
<area shape="poly" title=" " alt="" coords="54,179,48,211,43,210,48,178"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="93,300,163,326"/>
<area shape="poly" title=" " alt="" coords="57,250,103,288,100,292,54,255"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types ." alt="" coords="191,374,296,399"/>
<area shape="poly" title=" " alt="" coords="149,324,213,363,210,368,146,328"/>
<area shape="rect" title=" " alt="" coords="67,374,167,399"/>
<area shape="poly" title=" " alt="" coords="129,326,124,359,118,358,123,325"/>
<area shape="rect" title=" " alt="" coords="51,447,183,473"/>
<area shape="poly" title=" " alt="" coords="223,402,153,442,150,437,221,398"/>
<area shape="rect" title=" " alt="" coords="207,447,281,473"/>
<area shape="poly" title=" " alt="" coords="246,400,246,432,241,432,241,400"/>
<area shape="rect" title=" " alt="" coords="305,447,369,473"/>
<area shape="poly" title=" " alt="" coords="261,398,311,436,308,440,258,402"/>
<area shape="poly" title=" " alt="" coords="140,253,135,285,130,284,135,252"/>
<area shape="poly" title=" " alt="" coords="246,252,246,358,241,358,241,252"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1f9ceeaebcd7a3d6f3098699c698846a" id="r_a1f9ceeaebcd7a3d6f3098699c698846a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f9ceeaebcd7a3d6f3098699c698846a">ComIdx1F62_NrlConfig</a> (uint8_t ubNetV, uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a1f9ceeaebcd7a3d6f3098699c698846a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ef6e26336a9ed663239f3981f65430" id="r_ad4ef6e26336a9ed663239f3981f65430"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4ef6e26336a9ed663239f3981f65430">ComIdx1F63_NrlMonitor</a> (uint8_t ubNetV, uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:ad4ef6e26336a9ed663239f3981f65430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6d1768170474964823271120d4401b" id="r_a7c6d1768170474964823271120d4401b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c6d1768170474964823271120d4401b">ComNrlEventHandler</a> (uint8_t ubNetV, uint8_t ubNrlStateV)</td></tr>
<tr class="separator:a7c6d1768170474964823271120d4401b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45bfca6c52d7f58aafe9ec3a2006e0c9" id="r_a45bfca6c52d7f58aafe9ec3a2006e0c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45bfca6c52d7f58aafe9ec3a2006e0c9">ComNrlInit</a> (uint8_t ubNetV, uint8_t ubPhyIfDclV, uint8_t ubPhyIfRclV, CpNrlDriver_ts *ptsNrlDriverV, uint8_t ubDeviationLimitV, uint32_t ulMboxTimeoutV, uint32_t ulRecoveryTimeV)</td></tr>
<tr class="separator:a45bfca6c52d7f58aafe9ec3a2006e0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac9c3f32e05a82b250b669c508bc0f5" id="r_abac9c3f32e05a82b250b669c508bc0f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac9c3f32e05a82b250b669c508bc0f5">ComNrlRelease</a> (uint8_t ubNetV)</td></tr>
<tr class="separator:abac9c3f32e05a82b250b669c508bc0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac5f47d5c784a45b126201a2749af2f" id="r_abac5f47d5c784a45b126201a2749af2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac5f47d5c784a45b126201a2749af2f">ComNrlSendConnectionService</a> (uint8_t ubNetV)</td></tr>
<tr class="separator:abac5f47d5c784a45b126201a2749af2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c3c0e0d7d181b42f377fcffd673821e" id="r_a8c3c0e0d7d181b42f377fcffd673821e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c3c0e0d7d181b42f377fcffd673821e">ComNrlStart</a> (uint8_t ubNetV)</td></tr>
<tr class="separator:a8c3c0e0d7d181b42f377fcffd673821e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dca5fe2da3b9cf2b72b1b07d03980bf" id="r_a3dca5fe2da3b9cf2b72b1b07d03980bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dca5fe2da3b9cf2b72b1b07d03980bf">ComNrlState</a> (uint8_t ubNetV, CpNrlState_ts *ptsNrlStateV)</td></tr>
<tr class="separator:a3dca5fe2da3b9cf2b72b1b07d03980bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d95f0dae9cf92bdf287d29e5a2fc17" id="r_a90d95f0dae9cf92bdf287d29e5a2fc17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90d95f0dae9cf92bdf287d29e5a2fc17">ComNrlTimerEvent</a> (uint8_t ubNetV)</td></tr>
<tr class="separator:a90d95f0dae9cf92bdf287d29e5a2fc17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac4749d91d7ad4f3fdca19ed827425633" name="ac4749d91d7ad4f3fdca19ed827425633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4749d91d7ad4f3fdca19ed827425633">&#9670;&#160;</a></span>COM_NRL_ACCESS_DIRECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COM_NRL_ACCESS_DIRECT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a90d39016e0e3dae4adf4b2a2780e7703" name="a90d39016e0e3dae4adf4b2a2780e7703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d39016e0e3dae4adf4b2a2780e7703">&#9670;&#160;</a></span>COM_NRL_ACCESS_REMOTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COM_NRL_ACCESS_REMOTE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1f9ceeaebcd7a3d6f3098699c698846a" name="a1f9ceeaebcd7a3d6f3098699c698846a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f9ceeaebcd7a3d6f3098699c698846a">&#9670;&#160;</a></span>ComIdx1F62_NrlConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ComIdx1F62_NrlConfig </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubSubIndexV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubReqCodeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1F62 - Network Redundancy Layer Configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubSubIndexV</td><td>Sub-index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubReqCodeV</td><td>read / write access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code (enumeration <a class="el" href="com__defs_8h.html#a9ce62d5b229630f05554161d712bcfa1" title="Return code for SDO callbacks.">ComSdo_e</a>)</dd></dl>
<p>This object controls the transmit and receive counter deviation limits of the Network Redundancy Layer. </p>
<ul>
<li>Sub-Index 0 Contains the largest Sub-Index that is supported </li>
<li>Sub-Index 1 Rx counter deviation limit </li>
<li>Sub-Index 2 Tx counter deviation limit</li>
</ul>
<p>The function returns a SDO response code defined by the <a class="el" href="com__defs_8h.html#a9ce62d5b229630f05554161d712bcfa1" title="Return code for SDO callbacks.">ComSdo_e</a> enumeration. The index is only available when the symbol <a class="el" href="com__conf_8h.html#a4d9ba6018496a6cce1f7b5f9d6c12aeb" title="Support of Network Redundancy Layer.">COM_NRL_SUPPORT</a> is set. </p>

</div>
</div>
<a id="ad4ef6e26336a9ed663239f3981f65430" name="ad4ef6e26336a9ed663239f3981f65430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ef6e26336a9ed663239f3981f65430">&#9670;&#160;</a></span>ComIdx1F63_NrlMonitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ComIdx1F63_NrlMonitor </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubSubIndexV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubReqCodeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1F63 - Network Redundancy Layer Monitoring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubSubIndexV</td><td>Sub-index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code (enumeration <a class="el" href="com__defs_8h.html#a9ce62d5b229630f05554161d712bcfa1" title="Return code for SDO callbacks.">ComSdo_e</a>)</dd></dl>
<p>This object allows to monitor the transmit and receive counter deviation values of the Network Redundancy Layer. </p>
<ul>
<li>Sub-Index 0 Contains the largest Sub-Index that is supported </li>
<li>Sub-Index 1 Rx counter deviation value </li>
<li>Sub-Index 2 Tx counter deviation value</li>
</ul>
<p>The function returns a SDO response code defined by the <a class="el" href="com__defs_8h.html#a9ce62d5b229630f05554161d712bcfa1" title="Return code for SDO callbacks.">ComSdo_e</a> enumeration. The index is only available when the symbol <a class="el" href="com__conf_8h.html#a4d9ba6018496a6cce1f7b5f9d6c12aeb" title="Support of Network Redundancy Layer.">COM_NRL_SUPPORT</a> is set. </p>

</div>
</div>
<a id="a7c6d1768170474964823271120d4401b" name="a7c6d1768170474964823271120d4401b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6d1768170474964823271120d4401b">&#9670;&#160;</a></span>ComNrlEventHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComNrlEventHandler </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNrlStateV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNrlStateV</td><td>NRL state</td></tr>
  </table>
  </dd>
</dl>
<p>This handler is called by the NRL upon state change of the NRL. </p>

</div>
</div>
<a id="ab282a6601cbfbbb4828841e252ccc7d1" name="ab282a6601cbfbbb4828841e252ccc7d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab282a6601cbfbbb4828841e252ccc7d1">&#9670;&#160;</a></span>ComNrlFaultSimulation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlFaultSimulation </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum CpNrlFault_e</td>          <td class="paramname"><span class="paramname"><em>teFaultV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a45bfca6c52d7f58aafe9ec3a2006e0c9" name="a45bfca6c52d7f58aafe9ec3a2006e0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45bfca6c52d7f58aafe9ec3a2006e0c9">&#9670;&#160;</a></span>ComNrlInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubPhyIfDclV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubPhyIfRclV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CpNrlDriver_ts *</td>          <td class="paramname"><span class="paramname"><em>ptsNrlDriverV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubDeviationLimitV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ulMboxTimeoutV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ulRecoveryTimeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubPhyIfDclV</td><td>Physical interface of Default CAN Line </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubPhyIfRclV</td><td>Physical interface of Redundant CAN Line </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptsNrlDriverV</td><td>Pointer to NRL driver structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubDeviationLimitV</td><td>Counter deviation limit value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulMboxTimeoutV</td><td>Mailbox timeout value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulRecoveryTimeV</td><td>Time to recover from NRL passive state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined by the <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> enumeration. If no error occurred, the function will return the value <code><a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a></code>.</dd></dl>
<p>This function must be called by the application program prior to any other CANopen FD Master Stack function if the Network Redundancy Layer shall be supported. It is assigned to the channel defined by <em>ubNetV</em>, the parameters <em>ubPhyIfDclV</em> and <em>ubPhyIfRclV</em> are used to assign the physical CAN interfaces of the driver to the Default CAN Line (DLC) and Redundant CAN Line (RCL). </p>
<p>The parameter <em>ubDeviationLimitV</em> configures the deviation limit value (refer to #CpNrlSetDeviationLimit()). The parameter <em>ulMboxTimeoutV</em> configures the mailbox timeout value (refer to #CpNrlSetTimeout()). The parameter <em>ulRecoveryTimeV</em> configures the recovery timeout value (refer to #CpNrlSetRecoveryTime()). </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a>. </p>

</div>
</div>
<a id="abac9c3f32e05a82b250b669c508bc0f5" name="abac9c3f32e05a82b250b669c508bc0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac9c3f32e05a82b250b669c508bc0f5">&#9670;&#160;</a></span>ComNrlRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlRelease </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined by the <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> enumeration. If no error occurred, the function will return the value <code><a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a></code>.</dd></dl>
<p>This function releases the Network Reduncy Layer. </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a>. </p>

</div>
</div>
<a id="abac5f47d5c784a45b126201a2749af2f" name="abac5f47d5c784a45b126201a2749af2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac5f47d5c784a45b126201a2749af2f">&#9670;&#160;</a></span>ComNrlSendConnectionService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlSendConnectionService </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined by the <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> enumeration. If no error occurred, the function will return the value <code><a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a></code>.</dd></dl>
<p>This function triggers the transmission of the NRL connection service. The purpose of the function is verification of the CAN connection schema (DCL/RCL). Since the NRL connection service can modify the NRL state machine it shall be used sparingly. </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a>. </p>

</div>
</div>
<a id="a8c3c0e0d7d181b42f377fcffd673821e" name="a8c3c0e0d7d181b42f377fcffd673821e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c3c0e0d7d181b42f377fcffd673821e">&#9670;&#160;</a></span>ComNrlStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlStart </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined by the <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> enumeration. If no error occurred, the function will return the value <code><a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a></code>.</dd></dl>
<p>This function must be called by the application program after <a class="el" href="com__mgr_8h.html#a8c3583df39485235b950cd82158eba38">ComMgrInit()</a>. It is responsible for initialisation of the NRL connection service. </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a>. </p>

</div>
</div>
<a id="a3dca5fe2da3b9cf2b72b1b07d03980bf" name="a3dca5fe2da3b9cf2b72b1b07d03980bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dca5fe2da3b9cf2b72b1b07d03980bf">&#9670;&#160;</a></span>ComNrlState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComNrlState </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CpNrlState_ts *</td>          <td class="paramname"><span class="paramname"><em>ptsNrlStateV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptsNrlStateV</td><td>Pointer to NRL state structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code defined by the <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> enumeration. If no error occurred, the function will return the value <code><a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a></code>.</dd></dl>
<p>This function retrieves the current state of the NRL for the CANopen network channel defined by <em>ubNetV</em>. </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a>. </p>

</div>
</div>
<a id="a90d95f0dae9cf92bdf287d29e5a2fc17" name="a90d95f0dae9cf92bdf287d29e5a2fc17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d95f0dae9cf92bdf287d29e5a2fc17">&#9670;&#160;</a></span>ComNrlTimerEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComNrlTimerEvent </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel</td></tr>
  </table>
  </dd>
</dl>
<p>This function must be called by a timer resource of the target system. It is responsible to call the NRL fault detection and recovery. The period of the timer is defined via the symbol #CP_NRL_TIMER_PERIOD.</p>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">//-------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// Timer service routine                                       //</span></div>
<div class="line"><span class="comment">//                                                             //</span></div>
<div class="line"><span class="comment">//-------------------------------------------------------------//</span></div>
<div class="line"><span class="keywordtype">void</span> MyTimerService(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">//... timer services of application ...</span></div>
<div class="line"> </div>
<div class="line">   <span class="comment">//--- Call NRL timer function -------------</span></div>
<div class="line">   <a class="code hl_function" href="#a90d95f0dae9cf92bdf287d29e5a2fc17">ComNrlTimerEvent</a>(<a class="code hl_enumvalue" href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="acom__defs_8h_html_a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a"><div class="ttname"><a href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a></div><div class="ttdeci">@ eCOM_NET_1</div><div class="ttdef"><b>Definition</b> com_defs.h:728</div></div>
<div class="ttc" id="acom__nrl_8h_html_a90d95f0dae9cf92bdf287d29e5a2fc17"><div class="ttname"><a href="#a90d95f0dae9cf92bdf287d29e5a2fc17">ComNrlTimerEvent</a></div><div class="ttdeci">void ComNrlTimerEvent(uint8_t ubNetV)</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_fbdabf5ce8d53acfd7d4189bc668e32b.html">stack-com</a></li><li class="navelem"><a class="el" href="dir_95d4b02b57dcf61e0a63345076db8dd0.html">redundancy</a></li><li class="navelem"><a class="el" href="com__nrl_8h.html">com_nrl.h</a></li>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Wed Apr 23 2025 </li>
  </ul>
</div>
</body>
</html>
