<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen (FD) Master Protocol Stack: com_sdo_srv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mc_logo_png.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopen (FD) Master Protocol Stack
   </div>
   <div id="projectbrief">Making your systems precise, reliable and high-quality - Version 6.04.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_db51c5f13c53f5b4870d836817065374.html">source</a></li><li class="navelem"><a class="el" href="dir_8fb2f1b311645950dc2b5ec3b36d014b.html">stack-com</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">com_sdo_srv.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >With Service Data Objects (SDOs) the access to entries of a device Object Dictionary is provided. As these entries may contain data of arbitrary size and data type SDOs can be used to transfer multiple data sets (each containing an arbitrary large block of data) from a client to a server and vice versa. The client can control via a multiplexor (index and sub-index of the Object Dictionary) which data set is to be transferred. The contents of the data set are defined within the Object Dictionary (see <a class="el" href="com__dict_8h.html" title="CANopen Master object dictionary .">com_dict.h</a>). </p>
<p >The functions in this module are called by the CANopen master stack on reception of a SDO request.</p>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for com_sdo_srv.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="com__sdo__srv_8h__incl.png" border="0" usemap="#acom__sdo__srv_8h" alt=""/></div>
<map name="acom__sdo__srv_8h" id="acom__sdo__srv_8h">
<area shape="rect" title="CANopen Master SDO server ." alt="" coords="112,5,221,32"/>
<area shape="rect" href="com__defs_8h.html" title="CANopen Master definitions ." alt="" coords="121,155,212,181"/>
<area shape="rect" href="com__dict_8h.html" title="CANopen Master object dictionary ." alt="" coords="165,80,251,107"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions." alt="" coords="14,229,93,256"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="102,304,181,331"/>
<area shape="rect" href="canopen_8h.html" title="General CANopen definitions ." alt="" coords="205,304,288,331"/>
<area shape="rect" href="com__conf_8h.html" title="CANopen Master stack configuration ." alt="" coords="229,229,320,256"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions." alt="" coords="5,304,77,331"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="94,379,165,405"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types." alt="" coords="193,453,300,480"/>
<area shape="rect" title=" " alt="" coords="68,453,169,480"/>
<area shape="rect" title=" " alt="" coords="53,528,185,555"/>
<area shape="rect" title=" " alt="" coords="209,528,284,555"/>
<area shape="rect" title=" " alt="" coords="309,528,374,555"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a00e45a00b0bdc8d4b83795413d5fcf16"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="com__sdo__srv_8h.html#a00e45a00b0bdc8d4b83795413d5fcf16">ComSdoSrvBlkUpObjectSize</a> (uint8_t ubNetV, uint16_t uwIndexV, uint8_t ubSubIndexV)</td></tr>
<tr class="separator:a00e45a00b0bdc8d4b83795413d5fcf16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fcfc06c001f9273e9292d28d9fcdde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="com__sdo__srv_8h.html#a67fcfc06c001f9273e9292d28d9fcdde">ComSdoSrvCopyValueToMessage</a> (uint8_t ubNetV, void *pvdValueV, uint8_t ubDataTypeV)</td></tr>
<tr class="separator:a67fcfc06c001f9273e9292d28d9fcdde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcbe0fe18affd0ebe4aa70e0d32459ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="com__sdo__srv_8h.html#adcbe0fe18affd0ebe4aa70e0d32459ab">ComSdoSrvCopyMessageToValue</a> (uint8_t ubNetV, void *pvdValueV, uint8_t ubDataTypeV)</td></tr>
<tr class="separator:adcbe0fe18affd0ebe4aa70e0d32459ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29dfd2e3e98831e42370524fbb79813"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="com__sdo__srv_8h.html#ac29dfd2e3e98831e42370524fbb79813">ComSdoSrvSegSetup</a> (uint8_t ubNetV, void *pvdDataV, uint32_t ulSizeV)</td></tr>
<tr class="separator:ac29dfd2e3e98831e42370524fbb79813"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a00e45a00b0bdc8d4b83795413d5fcf16" name="a00e45a00b0bdc8d4b83795413d5fcf16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e45a00b0bdc8d4b83795413d5fcf16">&#9670;&nbsp;</a></span>ComSdoSrvBlkUpObjectSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ComSdoSrvBlkUpObjectSize </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uwIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uwIndexV</td><td>Object index value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubSubIndexV</td><td>Object sub-index value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes</dd></dl>
<p>This function is called by the ComSdoSrvBlkUpInit() function in order to determine the size (in bytes) of the object to be uploaded using a SDO block transfer. </p>
<p >The action on this function is application specific. The function body is placed inside the file <code>com_user.c</code>. </p>

</div>
</div>
<a id="adcbe0fe18affd0ebe4aa70e0d32459ab" name="adcbe0fe18affd0ebe4aa70e0d32459ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcbe0fe18affd0ebe4aa70e0d32459ab">&#9670;&nbsp;</a></span>ComSdoSrvCopyMessageToValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComSdoSrvCopyMessageToValue </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvdValueV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubDataTypeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data field from SDO message into value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pvdValueV</td><td>Pointer to value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubDataTypeV</td><td>Defines the value data type</td></tr>
  </table>
  </dd>
</dl>
<p>This function copies the SDO data field into the location defined by pvdValueV. Depending on the data type the byte order is assigned according to CiA 301. </p>

</div>
</div>
<a id="a67fcfc06c001f9273e9292d28d9fcdde" name="a67fcfc06c001f9273e9292d28d9fcdde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fcfc06c001f9273e9292d28d9fcdde">&#9670;&nbsp;</a></span>ComSdoSrvCopyValueToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComSdoSrvCopyValueToMessage </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvdValueV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubDataTypeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pvdValueV</td><td>Pointer to value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubDataTypeV</td><td>Defines the value data type</td></tr>
  </table>
  </dd>
</dl>
<p>This function copies the given value into the data field of a SDO message. Depending on the data type the byte order is assigned according to CiA 301. </p>

</div>
</div>
<a id="ac29dfd2e3e98831e42370524fbb79813" name="ac29dfd2e3e98831e42370524fbb79813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29dfd2e3e98831e42370524fbb79813">&#9670;&nbsp;</a></span>ComSdoSrvSegSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComSdoSrvSegSetup </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvdDataV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulSizeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise segmented data transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubNetV</td><td>Number of corresponding network </td></tr>
    <tr><td class="paramname">pvdDataV</td><td>Pointer to data </td></tr>
    <tr><td class="paramname">ulSizeV</td><td>Size of data be transferred</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to initialise the Segmented SDO data transfer. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
<a href="http://www.microcontrol.net">
&copy; MicroControl GmbH &amp; Co. KG
</a>
</small></address>
</body>
</html>
