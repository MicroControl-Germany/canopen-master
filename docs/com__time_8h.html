<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62K6JPR1V6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-62K6JPR1V6');
</script>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen Master Protocol Stack | com_time.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">CANopen Master Documentation</div>
   <div id="projectnumber">Version 6.08.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('com__time_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">com_time.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The TIME stamp Object is broadcasted periodically by the TIME producer. This TIME provides the simple network clock. </p>
<p>There may be a time jitter in transmission by the TIME producer corresponding approximately to the latency due to some other message being transmitted just before the TIME. In order to guarantee timely access to the CAN bus the TIME is given a very high priority identifier (see object 1012h). </p>
</div><div class="textblock"><code>#include &quot;<a class="el" href="com__defs_8h.html">com_defs.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for com_time.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="com__time_8h__incl.png" border="0" usemap="#acom__time_8h" alt=""/></div>
<map name="acom__time_8h" id="acom__time_8h">
<area shape="rect" title="CANopen Master Stack &#45; TIME service (TIME) ." alt="" coords="120,5,210,31"/>
<area shape="rect" href="com__defs_8h.html" title="CANopen Master definitions ." alt="" coords="120,79,210,105"/>
<area shape="poly" title=" " alt="" coords="168,31,168,63,162,63,162,31"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions ." alt="" coords="14,153,92,178"/>
<area shape="poly" title=" " alt="" coords="147,107,86,146,83,142,145,103"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="101,226,179,252"/>
<area shape="poly" title=" " alt="" coords="166,105,147,211,142,210,160,105"/>
<area shape="rect" href="canopen_8h.html" title=" " alt="" coords="203,226,284,252"/>
<area shape="poly" title=" " alt="" coords="174,104,232,211,228,214,169,106"/>
<area shape="rect" href="com__conf_8h.html" title="CANopen Master stack configuration ." alt="" coords="228,153,318,178"/>
<area shape="poly" title=" " alt="" coords="185,103,243,141,240,146,182,107"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions ." alt="" coords="5,226,77,252"/>
<area shape="poly" title=" " alt="" coords="54,179,48,211,43,210,48,178"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="93,300,163,326"/>
<area shape="poly" title=" " alt="" coords="57,250,103,288,100,292,54,255"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types ." alt="" coords="191,374,296,399"/>
<area shape="poly" title=" " alt="" coords="149,324,213,363,210,368,146,328"/>
<area shape="rect" title=" " alt="" coords="67,374,167,399"/>
<area shape="poly" title=" " alt="" coords="129,326,124,359,118,358,123,325"/>
<area shape="rect" title=" " alt="" coords="51,447,183,473"/>
<area shape="poly" title=" " alt="" coords="223,402,153,442,150,437,221,398"/>
<area shape="rect" title=" " alt="" coords="207,447,281,473"/>
<area shape="poly" title=" " alt="" coords="246,400,246,432,241,432,241,400"/>
<area shape="rect" title=" " alt="" coords="305,447,369,473"/>
<area shape="poly" title=" " alt="" coords="261,398,311,436,308,440,258,402"/>
<area shape="poly" title=" " alt="" coords="140,253,135,285,130,284,135,252"/>
<area shape="poly" title=" " alt="" coords="246,252,246,358,241,358,241,252"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="com__time_8h__dep__incl.png" border="0" usemap="#acom__time_8hdep" alt=""/></div>
<map name="acom__time_8hdep" id="acom__time_8hdep">
<area shape="rect" title="CANopen Master Stack &#45; TIME service (TIME) ." alt="" coords="23,5,112,31"/>
<area shape="rect" href="com__demo_8h.html" title="Demo functions for CANopen Master protocol stack services ." alt="" coords="19,79,116,105"/>
<area shape="poly" title=" " alt="" coords="70,46,70,79,65,79,65,46"/>
<area shape="rect" href="com__demo__app_8h.html" title="Generic demo functions for CANopen Master protocol stack ." alt="" coords="5,153,130,178"/>
<area shape="poly" title=" " alt="" coords="70,120,70,152,65,152,65,120"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structComTimeOfDay__s.html">ComTimeOfDay_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5eb2c7bab61fa5b425e30519471f88c0" id="r_a5eb2c7bab61fa5b425e30519471f88c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0">ComTimeMode_e</a> { <br />
&#160;&#160;<a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0a7d143fdb880cfc79e0eb8ce281025c0b">eCOM_TIME_MODE_CONSUMER</a> = 0
, <br />
&#160;&#160;<a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a">eCOM_TIME_MODE_PRODUCER</a> = 1
, <br />
&#160;&#160;<a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0ab54d627c0655ae6f7bfc5d548b9f729f">eCOM_TIME_MODE_DISABLE</a> = 2
<br />
 }</td></tr>
<tr class="separator:a5eb2c7bab61fa5b425e30519471f88c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64b9a38161608a1038e71f3292fe7ac6" id="r_a64b9a38161608a1038e71f3292fe7ac6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64b9a38161608a1038e71f3292fe7ac6">ComTimeEventConsume</a> (uint8_t ubNetV, <a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> *ptsTimeStampV)</td></tr>
<tr class="separator:a64b9a38161608a1038e71f3292fe7ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6645a7be66c7ef5c857a2136bda39b7c" id="r_a6645a7be66c7ef5c857a2136bda39b7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6645a7be66c7ef5c857a2136bda39b7c">ComTimeGetId</a> (uint8_t ubNetV, uint32_t *pulIdV)</td></tr>
<tr class="separator:a6645a7be66c7ef5c857a2136bda39b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb6fb8bb3c284f7314b1a3a50cf4abe" id="r_afcb6fb8bb3c284f7314b1a3a50cf4abe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcb6fb8bb3c284f7314b1a3a50cf4abe">ComTimeGetMode</a> (uint8_t ubNetV, uint8_t *pubModeV)</td></tr>
<tr class="separator:afcb6fb8bb3c284f7314b1a3a50cf4abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa624317ed5271c2de4a2f34430c88d69" id="r_aa624317ed5271c2de4a2f34430c88d69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa624317ed5271c2de4a2f34430c88d69">ComTimeProduce</a> (uint8_t ubNetV)</td></tr>
<tr class="separator:aa624317ed5271c2de4a2f34430c88d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfe22f5b26c0437d2532e29fafafe7ba" id="r_acfe22f5b26c0437d2532e29fafafe7ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfe22f5b26c0437d2532e29fafafe7ba">ComTimeSetId</a> (uint8_t ubNetV, uint32_t ulIdV)</td></tr>
<tr class="separator:acfe22f5b26c0437d2532e29fafafe7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0951fa93b9100decb562daa00c39df51" id="r_a0951fa93b9100decb562daa00c39df51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0951fa93b9100decb562daa00c39df51">ComTimeSetMode</a> (uint8_t ubNetV, uint8_t ubModeV)</td></tr>
<tr class="separator:a0951fa93b9100decb562daa00c39df51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e88dff0a0fb84cc12fde086c5fa2fe8" id="r_a8e88dff0a0fb84cc12fde086c5fa2fe8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e88dff0a0fb84cc12fde086c5fa2fe8">ComTimeStampFromLocaltime</a> (void)</td></tr>
<tr class="separator:a8e88dff0a0fb84cc12fde086c5fa2fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a620afcc3ec918ed01e4911fbf583b6fb" name="a620afcc3ec918ed01e4911fbf583b6fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a620afcc3ec918ed01e4911fbf583b6fb">&#9670;&#160;</a></span>ComTimeOfDay_ts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structComTimeOfDay__s.html">ComTimeOfDay_s</a> <a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5eb2c7bab61fa5b425e30519471f88c0" name="a5eb2c7bab61fa5b425e30519471f88c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb2c7bab61fa5b425e30519471f88c0">&#9670;&#160;</a></span>ComTimeMode_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0">ComTimeMode_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The enumeration defines the values for setting the TIME service mode to either producer or consumer. The definitions are used by <a class="el" href="#afcb6fb8bb3c284f7314b1a3a50cf4abe">ComTimeGetMode()</a> and <a class="el" href="#a0951fa93b9100decb562daa00c39df51">ComTimeSetMode()</a>. </p>
<p>By default (i.e. after start-up of the protocol stack), the TIME service is disabled. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5eb2c7bab61fa5b425e30519471f88c0a7d143fdb880cfc79e0eb8ce281025c0b" name="a5eb2c7bab61fa5b425e30519471f88c0a7d143fdb880cfc79e0eb8ce281025c0b"></a>eCOM_TIME_MODE_CONSUMER&#160;</td><td class="fielddoc"><p>Consume TIME service </p>
</td></tr>
<tr><td class="fieldname"><a id="a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a" name="a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a"></a>eCOM_TIME_MODE_PRODUCER&#160;</td><td class="fielddoc"><p>Produce TIME service </p>
</td></tr>
<tr><td class="fieldname"><a id="a5eb2c7bab61fa5b425e30519471f88c0ab54d627c0655ae6f7bfc5d548b9f729f" name="a5eb2c7bab61fa5b425e30519471f88c0ab54d627c0655ae6f7bfc5d548b9f729f"></a>eCOM_TIME_MODE_DISABLE&#160;</td><td class="fielddoc"><p>Disable TIME service </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2d4858d59a0f5cb0c392b7b204af0ac5" name="a2d4858d59a0f5cb0c392b7b204af0ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4858d59a0f5cb0c392b7b204af0ac5">&#9670;&#160;</a></span>ComIdx1012_TimeStamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ComIdx1012_TimeStamp </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubSubIndexV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubReqCodeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a64b9a38161608a1038e71f3292fe7ac6" name="a64b9a38161608a1038e71f3292fe7ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b9a38161608a1038e71f3292fe7ac6">&#9670;&#160;</a></span>ComTimeEventConsume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComTimeEventConsume </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> *</td>          <td class="paramname"><span class="paramname"><em>ptsTimeStampV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ptsTimeStampV</td><td>Pointer to time-of-day structure</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called upon reception of a TIME message. </p>
<p>The action on this function is application specific. The function body is placed inside the file <code>com_user.c</code>. </p>

</div>
</div>
<a id="a6645a7be66c7ef5c857a2136bda39b7c" name="a6645a7be66c7ef5c857a2136bda39b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6645a7be66c7ef5c857a2136bda39b7c">&#9670;&#160;</a></span>ComTimeGetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeGetId </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pulIdV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pulIdV</td><td>Pointer to identifier value variable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#acfe22f5b26c0437d2532e29fafafe7ba">ComTimeSetId()</a></dd></dl>
<p>This function reads the identifier value for the TIME service. </p>

</div>
</div>
<a id="afcb6fb8bb3c284f7314b1a3a50cf4abe" name="afcb6fb8bb3c284f7314b1a3a50cf4abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb6fb8bb3c284f7314b1a3a50cf4abe">&#9670;&#160;</a></span>ComTimeGetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeGetMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pubModeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pubModeV</td><td>Pointer to device mode variable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a></dd></dl>
<p>This function reads the device mode for the TIME service. </p>

</div>
</div>
<a id="a234d95ade5b5302d8f329bae6b51e55d" name="a234d95ade5b5302d8f329bae6b51e55d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234d95ade5b5302d8f329bae6b51e55d">&#9670;&#160;</a></span>ComTimeGetTimeOfDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeGetTimeOfDay </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> *</td>          <td class="paramname"><span class="paramname"><em>ptsTimeStampV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1bdf75119f9b06ef6671a41b96383c57" name="a1bdf75119f9b06ef6671a41b96383c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bdf75119f9b06ef6671a41b96383c57">&#9670;&#160;</a></span>ComTimeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5532cf159a7377c12b0853a07c5dd893" name="a5532cf159a7377c12b0853a07c5dd893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5532cf159a7377c12b0853a07c5dd893">&#9670;&#160;</a></span>ComTimeMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComTimeMessageHandler </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="canpie_8h.html#aa411fffb4073824e4189f08e5e866821">CpCanMsg_ts</a> *</td>          <td class="paramname"><span class="paramname"><em>ptsCanMsgV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa624317ed5271c2de4a2f34430c88d69" name="aa624317ed5271c2de4a2f34430c88d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa624317ed5271c2de4a2f34430c88d69">&#9670;&#160;</a></span>ComTimeProduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeProduce </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a234d95ade5b5302d8f329bae6b51e55d">ComTimeGetTimeOfDay()</a></dd></dl>
<p>This function is used by the application in order to trigger the transmission of the TIME service. The internal TIME_OF_DAY structure is copied into the service payload. </p>

</div>
</div>
<a id="acfe22f5b26c0437d2532e29fafafe7ba" name="acfe22f5b26c0437d2532e29fafafe7ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfe22f5b26c0437d2532e29fafafe7ba">&#9670;&#160;</a></span>ComTimeSetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeSetId </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ulIdV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulIdV</td><td>Identifier value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a0951fa93b9100decb562daa00c39df51">ComTimeSetMode()</a></dd></dl>
<p>This function changes the identifier value for the TIME service. If the <a class="el" href="group__ID__MASK.html#gaa9ac964b50fb6536366588f8bc45a277">ID_MASK_IS_EXTENDED</a> is set, the CANopen service uses the Extended Frame Format (EFF, 29-Bit CAN-ID). </p>

</div>
</div>
<a id="a0951fa93b9100decb562daa00c39df51" name="a0951fa93b9100decb562daa00c39df51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0951fa93b9100decb562daa00c39df51">&#9670;&#160;</a></span>ComTimeSetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeSetMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubModeV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubModeV</td><td>Service mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of enumeration <a class="el" href="com__defs_8h.html#aaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack.">ComErr_e</a></dd></dl>
<p>This function changes the mode (producer/consumer) for the TIME service, possible values for the parameter <em>ubModeV</em> are defined by the enumeration <a class="el" href="#a5eb2c7bab61fa5b425e30519471f88c0">ComTimeMode_e</a>.</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a0951fa93b9100decb562daa00c39df51">ComTimeSetMode</a>(<a class="code hl_enumvalue" href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, <a class="code hl_enumvalue" href="#a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a">eCOM_TIME_MODE_PRODUCER</a>);</div>
<div class="line"><a class="code hl_function" href="#acfe22f5b26c0437d2532e29fafafe7ba">ComTimeSetId</a>(<a class="code hl_enumvalue" href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, 0x120);</div>
<div class="line"><a class="code hl_function" href="#aa624317ed5271c2de4a2f34430c88d69">ComTimeProduce</a>(<a class="code hl_enumvalue" href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, <a class="code hl_function" href="#a8e88dff0a0fb84cc12fde086c5fa2fe8">ComTimeStampFromLocaltime</a>(localtime()) )</div>
<div class="ttc" id="acom__defs_8h_html_a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a"><div class="ttname"><a href="com__defs_8h.html#a9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a></div><div class="ttdeci">@ eCOM_NET_1</div><div class="ttdef"><b>Definition</b> com_defs.h:728</div></div>
<div class="ttc" id="acom__time_8h_html_a0951fa93b9100decb562daa00c39df51"><div class="ttname"><a href="#a0951fa93b9100decb562daa00c39df51">ComTimeSetMode</a></div><div class="ttdeci">ComStatus_tv ComTimeSetMode(uint8_t ubNetV, uint8_t ubModeV)</div></div>
<div class="ttc" id="acom__time_8h_html_a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a"><div class="ttname"><a href="#a5eb2c7bab61fa5b425e30519471f88c0a80ab3b6db06b8e4cacedeaa9ebcf4a1a">eCOM_TIME_MODE_PRODUCER</a></div><div class="ttdeci">@ eCOM_TIME_MODE_PRODUCER</div><div class="ttdef"><b>Definition</b> com_time.h:79</div></div>
<div class="ttc" id="acom__time_8h_html_a8e88dff0a0fb84cc12fde086c5fa2fe8"><div class="ttname"><a href="#a8e88dff0a0fb84cc12fde086c5fa2fe8">ComTimeStampFromLocaltime</a></div><div class="ttdeci">ComTimeOfDay_ts * ComTimeStampFromLocaltime(void)</div></div>
<div class="ttc" id="acom__time_8h_html_aa624317ed5271c2de4a2f34430c88d69"><div class="ttname"><a href="#aa624317ed5271c2de4a2f34430c88d69">ComTimeProduce</a></div><div class="ttdeci">ComStatus_tv ComTimeProduce(uint8_t ubNetV)</div></div>
<div class="ttc" id="acom__time_8h_html_acfe22f5b26c0437d2532e29fafafe7ba"><div class="ttname"><a href="#acfe22f5b26c0437d2532e29fafafe7ba">ComTimeSetId</a></div><div class="ttdeci">ComStatus_tv ComTimeSetId(uint8_t ubNetV, uint32_t ulIdV)</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a1b2b0888919f355174bbc78303b91803" name="a1b2b0888919f355174bbc78303b91803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2b0888919f355174bbc78303b91803">&#9670;&#160;</a></span>ComTimeSetTimeOfDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="com__defs_8h.html#a90387fa2440a0d5b37ae543b7dc25805">ComStatus_tv</a> ComTimeSetTimeOfDay </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> *</td>          <td class="paramname"><span class="paramname"><em>ptsTimeStampV</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e88dff0a0fb84cc12fde086c5fa2fe8" name="a8e88dff0a0fb84cc12fde086c5fa2fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e88dff0a0fb84cc12fde086c5fa2fe8">&#9670;&#160;</a></span>ComTimeStampFromLocaltime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a620afcc3ec918ed01e4911fbf583b6fb">ComTimeOfDay_ts</a> * ComTimeStampFromLocaltime </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Pointer to time-of-day structure</dd></dl>
<p>The implementation is OS specific. </p>

</div>
</div>
<a id="aee389cb1bed2b4a566c54fc445dcd5f6" name="aee389cb1bed2b4a566c54fc445dcd5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee389cb1bed2b4a566c54fc445dcd5f6">&#9670;&#160;</a></span>ComTimeTmrEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComTimeTmrEvent </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>ubNetV</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_fbdabf5ce8d53acfd7d4189bc668e32b.html">stack-com</a></li><li class="navelem"><a class="el" href="com__time_8h.html">com_time.h</a></li>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Wed Apr 23 2025 </li>
  </ul>
</div>
</body>
</html>
